<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.49">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/favicon-96x96.png"><title>Entity Cache | Javacord</title><meta name="description" content="The Javacord website">
    <link rel="modulepreload" href="/assets/app.9e9e82c9.js"><link rel="modulepreload" href="/assets/entity-cache.html.6d389e16.js"><link rel="modulepreload" href="/assets/entity-cache.html.50bb1a7c.js"><link rel="prefetch" href="/assets/index.html.34e27e75.js"><link rel="prefetch" href="/assets/imprint.html.893c9c79.js"><link rel="prefetch" href="/assets/privacy-policy.html.de82ece0.js"><link rel="prefetch" href="/assets/bot-lifecycle.html.4aa996ef.js"><link rel="prefetch" href="/assets/performance-tweaks.html.6bd23d75.js"><link rel="prefetch" href="/assets/playing-audio.html.e83b6f1d.js"><link rel="prefetch" href="/assets/proxies.html.ab166e48.js"><link rel="prefetch" href="/assets/ratelimits.html.0772d955.js"><link rel="prefetch" href="/assets/sharding.html.4e83db95.js"><link rel="prefetch" href="/assets/creating-entities.html.465cd9a7.js"><link rel="prefetch" href="/assets/embeds.html.7e6d8282.js"><link rel="prefetch" href="/assets/emojis-and-reactions.html.ec4f0542.js"><link rel="prefetch" href="/assets/gateway-intents.html.52122bd1.js"><link rel="prefetch" href="/assets/glossary.html.5333f743.js"><link rel="prefetch" href="/assets/listeners.html.23c01831.js"><link rel="prefetch" href="/assets/logger-config.html.dc969b46.js"><link rel="prefetch" href="/assets/message-builder.html.c1132e3d.js"><link rel="prefetch" href="/assets/running.html.f7860a5b.js"><link rel="prefetch" href="/assets/completable-futures.html.76020db6.js"><link rel="prefetch" href="/assets/lambdas.html.ab51af0e.js"><link rel="prefetch" href="/assets/optionals.html.61bba0e7.js"><link rel="prefetch" href="/assets/index.html.03623afb.js"><link rel="prefetch" href="/assets/creating-a-bot-account.html.6f517977.js"><link rel="prefetch" href="/assets/download-installation.html.bede70a9.js"><link rel="prefetch" href="/assets/faq.html.54c067dd.js"><link rel="prefetch" href="/assets/writing-your-first-bot.html.16d30054.js"><link rel="prefetch" href="/assets/commands.html.338ddb93.js"><link rel="prefetch" href="/assets/components.html.d7f9c9c3.js"><link rel="prefetch" href="/assets/overview.html.8a7d0fa7.js"><link rel="prefetch" href="/assets/responding.html.e9e28947.js"><link rel="prefetch" href="/assets/eclipse-maven.html.cc24dc9d.js"><link rel="prefetch" href="/assets/intellij-gradle.html.b7590c66.js"><link rel="prefetch" href="/assets/intellij-maven.html.ee5c6410.js"><link rel="prefetch" href="/assets/404.html.7d858b3d.js"><link rel="prefetch" href="/assets/index.html.5f910984.js"><link rel="prefetch" href="/assets/imprint.html.28c06e06.js"><link rel="prefetch" href="/assets/privacy-policy.html.3d823f5a.js"><link rel="prefetch" href="/assets/bot-lifecycle.html.b7f3f62e.js"><link rel="prefetch" href="/assets/performance-tweaks.html.5ed602e3.js"><link rel="prefetch" href="/assets/playing-audio.html.eb64267a.js"><link rel="prefetch" href="/assets/proxies.html.73e95b97.js"><link rel="prefetch" href="/assets/ratelimits.html.0bc2a801.js"><link rel="prefetch" href="/assets/sharding.html.d725f7e9.js"><link rel="prefetch" href="/assets/creating-entities.html.493be5f9.js"><link rel="prefetch" href="/assets/embeds.html.323bb060.js"><link rel="prefetch" href="/assets/emojis-and-reactions.html.6e92437f.js"><link rel="prefetch" href="/assets/gateway-intents.html.9197c98d.js"><link rel="prefetch" href="/assets/glossary.html.01bf37c0.js"><link rel="prefetch" href="/assets/listeners.html.41e8950e.js"><link rel="prefetch" href="/assets/logger-config.html.07c5b310.js"><link rel="prefetch" href="/assets/message-builder.html.35a5359c.js"><link rel="prefetch" href="/assets/running.html.3b9fb937.js"><link rel="prefetch" href="/assets/completable-futures.html.c6e8ba73.js"><link rel="prefetch" href="/assets/lambdas.html.54bd82cd.js"><link rel="prefetch" href="/assets/optionals.html.20318f55.js"><link rel="prefetch" href="/assets/index.html.9ee80d58.js"><link rel="prefetch" href="/assets/creating-a-bot-account.html.bc4008ed.js"><link rel="prefetch" href="/assets/download-installation.html.9bac6398.js"><link rel="prefetch" href="/assets/faq.html.78b0de5e.js"><link rel="prefetch" href="/assets/writing-your-first-bot.html.eea76002.js"><link rel="prefetch" href="/assets/commands.html.b97904fd.js"><link rel="prefetch" href="/assets/components.html.58a7f2f4.js"><link rel="prefetch" href="/assets/overview.html.d8835df3.js"><link rel="prefetch" href="/assets/responding.html.df475970.js"><link rel="prefetch" href="/assets/eclipse-maven.html.709dc42f.js"><link rel="prefetch" href="/assets/intellij-gradle.html.00252100.js"><link rel="prefetch" href="/assets/intellij-maven.html.964a7ec3.js"><link rel="prefetch" href="/assets/404.html.dd42da66.js"><link rel="prefetch" href="/assets/404.aa496345.js"><link rel="prefetch" href="/assets/Layout.fddf35d4.js"><link rel="prefetch" href="/assets/LatestVersion.a3ca51be.js">
    <link rel="stylesheet" href="/assets/style.18d74fae.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name">Javacord</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="Home"><!--[--><!--]--> Home <!--[--><!--]--></a></div><div class="navbar-item"><a href="/wiki/" class="router-link-active" aria-label="Wiki"><!--[--><!--]--> Wiki <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://docs.javacord.org/" rel="noopener noreferrer" target="_blank" aria-label="JavaDocs"><!--[--><!--]--> JavaDocs <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://discord.gg/javacord" rel="noopener noreferrer" target="_blank" aria-label="Discord Server"><!--[--><!--]--> Discord Server <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/Javacord/Javacord" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Legal"><span class="title">Legal</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Legal"><span class="title">Legal</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/imprint" class="" aria-label="Imprint"><!--[--><!--]--> Imprint <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/privacy-policy" class="" aria-label="Privacy Policy"><!--[--><!--]--> Privacy Policy <!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="Home"><!--[--><!--]--> Home <!--[--><!--]--></a></div><div class="navbar-item"><a href="/wiki/" class="router-link-active" aria-label="Wiki"><!--[--><!--]--> Wiki <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://docs.javacord.org/" rel="noopener noreferrer" target="_blank" aria-label="JavaDocs"><!--[--><!--]--> JavaDocs <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://discord.gg/javacord" rel="noopener noreferrer" target="_blank" aria-label="Discord Server"><!--[--><!--]--> Discord Server <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/Javacord/Javacord" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Legal"><span class="title">Legal</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Legal"><span class="title">Legal</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/imprint" class="" aria-label="Imprint"><!--[--><!--]--> Imprint <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/privacy-policy" class="" aria-label="Privacy Policy"><!--[--><!--]--> Privacy Policy <!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">Getting Started <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/wiki/" class="router-link-active sidebar-item" aria-label="Introduction"><!--[--><!--]--> Introduction <!--[--><!--]--></a><!----></li><li><a href="/wiki/getting-started/download-installation.html" class="sidebar-item" aria-label="Download / Installation"><!--[--><!--]--> Download / Installation <!--[--><!--]--></a><!----></li><li><a href="/wiki/getting-started/creating-a-bot-account.html" class="sidebar-item" aria-label="Creating a Bot Account"><!--[--><!--]--> Creating a Bot Account <!--[--><!--]--></a><!----></li><li><a href="/wiki/getting-started/writing-your-first-bot.html" class="sidebar-item" aria-label="Writing your first bot"><!--[--><!--]--> Writing your first bot <!--[--><!--]--></a><!----></li><li><p tabindex="0" class="sidebar-item collapsible">Beginner IDE Setup <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/wiki/getting-started/setup/intellij-gradle.html" class="sidebar-item" aria-label="IntelliJ + Gradle"><!--[--><!--]--> IntelliJ + Gradle <!--[--><!--]--></a><!----></li><li><a href="/wiki/getting-started/setup/intellij-maven.html" class="sidebar-item" aria-label="IntelliJ + Maven"><!--[--><!--]--> IntelliJ + Maven <!--[--><!--]--></a><!----></li><li><a href="/wiki/getting-started/setup/eclipse-maven.html" class="sidebar-item" aria-label="Eclipse + Maven"><!--[--><!--]--> Eclipse + Maven <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/wiki/getting-started/faq.html" class="sidebar-item" aria-label="Frequently Asked Questions"><!--[--><!--]--> Frequently Asked Questions <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">Basic Tutorials <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item collapsible">Interactions <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/wiki/basic-tutorials/interactions/overview.html" class="sidebar-item" aria-label="Interactions"><!--[--><!--]--> Interactions <!--[--><!--]--></a><!----></li><li><a href="/wiki/basic-tutorials/interactions/commands.html" class="sidebar-item" aria-label="Interaction Commands aka. Slash Commands"><!--[--><!--]--> Interaction Commands aka. Slash Commands <!--[--><!--]--></a><!----></li><li><a href="/wiki/basic-tutorials/interactions/components.html" class="sidebar-item" aria-label="Message Components"><!--[--><!--]--> Message Components <!--[--><!--]--></a><!----></li><li><a href="/wiki/basic-tutorials/interactions/responding.html" class="sidebar-item" aria-label="Responding to interactions"><!--[--><!--]--> Responding to interactions <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/wiki/basic-tutorials/listeners.html" class="sidebar-item" aria-label="Listeners"><!--[--><!--]--> Listeners <!--[--><!--]--></a><!----></li><li><a href="/wiki/basic-tutorials/gateway-intents.html" class="sidebar-item" aria-label="Gateway Intents"><!--[--><!--]--> Gateway Intents <!--[--><!--]--></a><!----></li><li><a href="/wiki/basic-tutorials/embeds.html" class="sidebar-item" aria-label="Embeds"><!--[--><!--]--> Embeds <!--[--><!--]--></a><!----></li><li><a href="/wiki/basic-tutorials/emojis-and-reactions.html" class="sidebar-item" aria-label="Emojis and Reactions"><!--[--><!--]--> Emojis and Reactions <!--[--><!--]--></a><!----></li><li><a href="/wiki/basic-tutorials/message-builder.html" class="sidebar-item" aria-label="Using the MessageBuilder"><!--[--><!--]--> Using the MessageBuilder <!--[--><!--]--></a><!----></li><li><a href="/wiki/basic-tutorials/creating-entities.html" class="sidebar-item" aria-label="Creating Channels, Invites, etc."><!--[--><!--]--> Creating Channels, Invites, etc. <!--[--><!--]--></a><!----></li><li><a href="/wiki/basic-tutorials/logger-config.html" class="sidebar-item" aria-label="Logger Configuration"><!--[--><!--]--> Logger Configuration <!--[--><!--]--></a><!----></li><li><a href="/wiki/basic-tutorials/running.html" class="sidebar-item" aria-label="Running and Deploying your Bot"><!--[--><!--]--> Running and Deploying your Bot <!--[--><!--]--></a><!----></li><li><a href="/wiki/basic-tutorials/glossary.html" class="sidebar-item" aria-label="Glossary"><!--[--><!--]--> Glossary <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading active">Advanced Topics <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/wiki/advanced-topics/bot-lifecycle.html" class="sidebar-item" aria-label="Bot Lifecycle"><!--[--><!--]--> Bot Lifecycle <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/wiki/advanced-topics/entity-cache.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="Entity Cache"><!--[--><!--]--> Entity Cache <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/wiki/advanced-topics/entity-cache.html#what-is-in-the-cache" class="router-link-active router-link-exact-active sidebar-item" aria-label="🔮 What is in the cache?"><!--[--><!--]--> 🔮 What is in the cache? <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/wiki/advanced-topics/entity-cache.html#when-are-cached-entities-updated" class="router-link-active router-link-exact-active sidebar-item" aria-label="❓ When are cached entities updated?"><!--[--><!--]--> ❓ When are cached entities updated? <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/wiki/advanced-topics/entity-cache.html#how-long-are-cached-entities-valid" class="router-link-active router-link-exact-active sidebar-item" aria-label="⌚ How long are cached entities valid?"><!--[--><!--]--> ⌚ How long are cached entities valid? <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/wiki/advanced-topics/playing-audio.html" class="sidebar-item" aria-label="Playing Audio"><!--[--><!--]--> Playing Audio <!--[--><!--]--></a><!----></li><li><a href="/wiki/advanced-topics/ratelimits.html" class="sidebar-item" aria-label="Ratelimits"><!--[--><!--]--> Ratelimits <!--[--><!--]--></a><!----></li><li><a href="/wiki/advanced-topics/sharding.html" class="sidebar-item" aria-label="Sharding"><!--[--><!--]--> Sharding <!--[--><!--]--></a><!----></li><li><a href="/wiki/advanced-topics/performance-tweaks.html" class="sidebar-item" aria-label="Performance Tweaks"><!--[--><!--]--> Performance Tweaks <!--[--><!--]--></a><!----></li><li><a href="/wiki/advanced-topics/proxies.html" class="sidebar-item" aria-label="Proxies"><!--[--><!--]--> Proxies <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">Essential Knowledge <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/wiki/essential-knowledge/lambdas.html" class="sidebar-item" aria-label="Lambdas"><!--[--><!--]--> Lambdas <!--[--><!--]--></a><!----></li><li><a href="/wiki/essential-knowledge/optionals.html" class="sidebar-item" aria-label="Optionals"><!--[--><!--]--> Optionals <!--[--><!--]--></a><!----></li><li><a href="/wiki/essential-knowledge/completable-futures.html" class="sidebar-item" aria-label="Completable Futures"><!--[--><!--]--> Completable Futures <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="entity-cache" tabindex="-1"><a class="header-anchor" href="#entity-cache" aria-hidden="true">#</a> Entity Cache</h1><p>Javacord keeps an internal cache for entities (e.g. Servers, Channels, Users, ...). It is important to know how the cache behaves to properly use it.</p><h2 id="what-is-in-the-cache" tabindex="-1"><a class="header-anchor" href="#what-is-in-the-cache" aria-hidden="true">#</a> 🔮 What is in the cache?</h2><p>Nearly every entity known by the bot is guaranteed to be in the cache. There are a few exceptions though:</p><h4 id="users" tabindex="-1"><a class="header-anchor" href="#users" aria-hidden="true">#</a> Users</h4><p>Users are only cached when you have the <code>GUILD_MEMBERS</code> intent enabled. See <a href="/wiki/basic-tutorials/gateway-intents/" class="">Gateway Intents</a> for more information.</p><h4 id="messages" tabindex="-1"><a class="header-anchor" href="#messages" aria-hidden="true">#</a> Messages</h4><p>Not every single message is in the cache, which means you can encounter messages which exist but are not in the cache. This can happen for most message events, e.g. the <a href="https://ci.javacord.org/javadoc/org/javacord/api/event/message/reaction/ReactionAddEvent.html" target="_blank" rel="noopener noreferrer"><code>ReactionAddEvent</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>. You can, however, interact with these messages without having them in the cache. Every message event has methods like <code>event.deleteMessage()</code>, <code>event.editMessage(&quot;New Content&quot;)</code>. If you need the message (e.g. to get its content), you can request it using <code>event.requestMessage()</code>.</p><p>Additionally, you can use the static methods in the <a href="https://ci.javacord.org/javadoc/org/javacord/api/entity/message/Message.html" target="_blank" rel="noopener noreferrer"><code>Message</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> class which only require the channel and message id, e.g. <code>Message.edit(api, channelId, messageId, &quot;New content&quot;);</code>. This is very useful if you want to store them in a database.</p><h4 id="webhooks-and-invites" tabindex="-1"><a class="header-anchor" href="#webhooks-and-invites" aria-hidden="true">#</a> Webhooks and Invites</h4><p>Webhooks and Invites are not kept in the cache at all and won&#39;t receive any updates.</p><h4 id="embeds" tabindex="-1"><a class="header-anchor" href="#embeds" aria-hidden="true">#</a> Embeds</h4><p>Embeds from <code>message.getEmbed()</code> won&#39;t receive updates. If a message&#39;s embed gets edited, <code>getEmbed()</code> will return a completely new embed object.</p><h2 id="when-are-cached-entities-updated" tabindex="-1"><a class="header-anchor" href="#when-are-cached-entities-updated" aria-hidden="true">#</a> ❓ When are cached entities updated?</h2><p>Javacord&#39;s cache exclusively uses websocket events to keep the cache up to date. This means that the content of your objects might be outdated, even though you modified it yourself:</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Messages</span> message <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Prints the old content, e.g. &quot;old content&quot;</span>
message<span class="token punctuation">.</span><span class="token function">edit</span><span class="token punctuation">(</span><span class="token string">&quot;new content&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Edits the message and waits for success</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Still prints &quot;old content&quot;</span>
<span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Most likely prints &quot;new content&quot; now</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="how-long-are-cached-entities-valid" tabindex="-1"><a class="header-anchor" href="#how-long-are-cached-entities-valid" aria-hidden="true">#</a> ⌚ How long are cached entities valid?</h2><p>Even though entities are usually kept in the cache for a very long time, you should not keep references to these objects for a longer period of time, but store the id / use event methods:</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// Bad</span>
<span class="token class-name">Message</span> message <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
message<span class="token punctuation">.</span><span class="token function">addReactionAddListener</span><span class="token punctuation">(</span>event <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span><span class="token function">getEmoji</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equalsEmoji</span><span class="token punctuation">(</span><span class="token string">&quot;👎&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    message<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Prevents &quot;message&quot; from being garbage collected</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Good</span>
<span class="token class-name">Message</span> message <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
message<span class="token punctuation">.</span><span class="token function">addReactionAddListener</span><span class="token punctuation">(</span>event <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span><span class="token function">getEmoji</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equalsEmoji</span><span class="token punctuation">(</span><span class="token string">&quot;👎&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    event<span class="token punctuation">.</span><span class="token function">deleteMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Does not use the message object</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// Bad</span>
<span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> usersWithBadMood <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
api<span class="token punctuation">.</span><span class="token function">addReactionAddListener</span><span class="token punctuation">(</span>event <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span><span class="token function">getEmoji</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equalsEmoji</span><span class="token punctuation">(</span><span class="token string">&quot;😦&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    usersWithBadMood<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span><span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Good</span>
<span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> usersWithBadMood <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
api<span class="token punctuation">.</span><span class="token function">addReactionAddListener</span><span class="token punctuation">(</span>event <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span><span class="token function">getEmoji</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equalsEmoji</span><span class="token punctuation">(</span><span class="token string">&quot;😦&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    usersWithBadMood<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span><span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Some examples of when cached entities are invalidated:</p><ul><li>The bot lost its connection to Discord and had to reconnect (not resume)</li><li>You weren&#39;t able to receive updates for an entity, e.g. for <code>Channel</code>, because you left and rejoined a server</li></ul></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/Javacord/Website/edit/master/docs/wiki/advanced-topics/entity-cache.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page on GitHub"><!--[--><!--]--> Edit this page on GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: git@saladoc.de">Saladoc</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/wiki/advanced-topics/bot-lifecycle.html" class="" aria-label="Bot Lifecycle"><!--[--><!--]--> Bot Lifecycle <!--[--><!--]--></a></span><span class="next"><a href="/wiki/advanced-topics/playing-audio.html" class="" aria-label="Playing Audio"><!--[--><!--]--> Playing Audio <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.9e9e82c9.js" defer></script>
  </body>
</html>
